{% extends 'pages/layout.html.twig' %}

{% block title %}Formulaire d'Inscription{% endblock %}

{% block body %}
    <div class="max-w-lg mx-auto mt-10 p-6 bg-white shadow-md rounded">
        <h1 class="text-2xl font-bold mb-5 text-center">Inscription</h1>

        {{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}

        {# Afficher les messages flash #}
        {% for message in app.flashes('success') %}
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                {{ message }}
            </div>
        {% endfor %}

        {# Afficher les erreurs de formulaire globales #}
        {% if form.vars.errors|length > 0 %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
                <ul>
                    {% for error in form.vars.errors %}
                        <li>{{ error.message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        <div class="form-group">
            {{ form_label(form.email, 'Adresse email', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
            {{ form_widget(form.email, { 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'placeholder': 'Entrez votre adresse email'} }) }}
            {{ form_errors(form.email) }}
        </div>

        <div class="form-group">
            {{ form_label(form.password.first, 'Mot de passe', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
            {{ form_widget(form.password.first, { 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'placeholder': 'Entrez votre mot de passe'} }) }}
            {{ form_errors(form.password.first) }}
        </div>

        <div class="form-group">
            {{ form_label(form.password.second, 'Confirmer le mot de passe', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
            {{ form_widget(form.password.second, { 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'placeholder': 'Confirmez votre mot de passe'} }) }}
            {{ form_errors(form.password.second) }}
        </div>

        <div class="form-group">
            {{ form_label(form.telephone, 'Téléphone', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
            {{ form_widget(form.telephone, { 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'placeholder': 'Numéro de téléphone (optionnel)'} }) }}
            {{ form_errors(form.telephone) }}
        </div>

        {# Champ Pseudo #}
        <div class="form-group">
            {{ form_label(form.pseudo, 'Pseudo', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
            {{ form_widget(form.pseudo, { 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'placeholder': 'Entrez votre pseudo'} }) }}
            {{ form_errors(form.pseudo) }}
        </div>

        {# Champ Description #}
        <div class="form-group">
            {{ form_label(form.description, 'Description', {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
            {{ form_widget(form.description, { 'attr': {'class': 'shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline', 'placeholder': 'Décrivez-vous'} }) }}
            {{ form_errors(form.description) }}
        </div>

        <div class="flex items-center justify-between">
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                S'inscrire
            </button>
        </div>

        {{ form_end(form) }}
    </div>
{% endblock %}
